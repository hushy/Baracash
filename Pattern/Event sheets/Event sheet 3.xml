<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 3</name>
    <events>
        <variable constant="0" name="resultState" sid="8539054646063116" static="0" type="number">0</variable>
        <variable constant="0" name="captchaRoot" sid="2839952603027862" static="0" type="text">g-recaptcha-response</variable>
        <variable constant="0" name="discoverAPIRoot" sid="2266390881598362" static="0" type="text">/api/giftCodes/discover/</variable>
        <event-block sid="9697988243399768">
            <conditions>
                <condition id="-2" name="On start of layout" sid="8106631221286837" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="5266561605139615" type="System">
                    <param id="0" name="Variable">IsWinningTicket</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="5679582322153779">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="6260350373600893" type="System">
                            <param id="0" name="Variable">IsWinningTicket</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="7993198638979828" type="resultTxt">
                            <param id="0" name="Text">&quot;Bravo ! Tu as gagné &quot; &amp; BaracashAPI.GetPrizeDescription</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9265397368632952">
                    <conditions>
                        <condition id="-22" name="Else" sid="5492032813789801" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="6859808424473182" type="resultTxt">
                            <param id="0" name="Text">&quot;Dommage ! Retente ta chance dés que possible ! &quot;</param>
                        </action>
                        <action id="0" name="Set text" sid="387478591079017" type="mailTxt">
                            <param id="0" name="Text">&quot;Saisis ton email pour être avertis !&quot;</param>
                        </action>
                        <action id="3" name="Set visible" sid="2514453955780014" type="HTML_Div_Pode">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="3" name="Set visible" sid="5416824680077605" type="GiftCode">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="2267830228091932">
            <conditions>
                <condition id="-14" name="Compare variable" sid="2474483601920532" type="System">
                    <param id="0" name="Variable">resultState</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">0</param>
                </condition>
                <condition id="4" name="On captcha response" sid="1640325846654723" type="HTML_Div_Pode" />
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="5286525773453558" type="System">
                    <param id="0" name="Variable">resultState</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="0" name="Request URL" sid="9001362391144996" type="WSCaller">
                    <param id="0" name="Tag">&quot;discoverCode&quot;</param>
                    <param id="1" name="URL">debugEndpoint &amp; discoverAPIRoot &amp; prizeId &amp; &quot;?&quot; &amp; captchaRoot &amp; &quot;=&quot; &amp; HTML_Div_Pode.GetReCaptcha</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5665599641991856">
            <conditions>
                <condition id="0" name="On completed" sid="4329310521638856" type="WSCaller">
                    <param id="0" name="Tag">&quot;discoverCode&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="1" name="load a code response" sid="8691896987668125" type="BaracashAPI">
                    <param id="0" name="Data">WSCaller.LastData</param>
                </action>
                <action id="0" name="Set text" sid="4063645055081867" type="GiftCode">
                    <param id="0" name="Text">BaracashAPI.GetGiftCode</param>
                </action>
                <action id="5" name="Set read-only" sid="2720643446864057" type="GiftCode">
                    <param id="0" name="Mode">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1996263232743931">
            <conditions>
                <condition id="1" name="On error" sid="808159677543361" type="WSCaller">
                    <param id="0" name="Tag">&quot;discoverCode&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="8187093019191518" type="resultTxt">
                    <param id="0" name="Text">&quot;CALL error&quot;</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
